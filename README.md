# 게임 매칭 커뮤니티 ScrimUp

# 작품개요

## 작품 개요

온라인 게임을 같이 플레이할 인원을 구해 팀을 꾸리고 상대를 구하여 게임 매칭 기능을 수행하는 웹 커뮤니티입니다. 부가 기능으로 타 플랫폼과 연동하여 본인과 타인의 태그 정보와 게임 전적 정보를 확인할 수 있습니다.

## 작품 선정 배경

기존의 국내 온라인 게임 커뮤니티들의 경우 대부분 단순 게시판 형태로 운영되고 있으며 같이 게임을 할 인원이나 상대 인원을 구하고 싶을 경우 해당 카테고리 게시판에 글을 올리거나 글에 댓글을 달아 해당 게임과 연관된 플랫폼 정보를 공유하여 참여하는 형태로 운영되고 있습니다. 따라서 이를 개선하고자 기존의 웹 커뮤니티를 플랫폼화하여 좀 더 직관적이고 중간 단계를 거치지 않을 수 있는 플랫폼화된 웹 커뮤니티를 만들고자 하였습니다.

## 유사 시스템 분석

- 국내 온라인 게임 커뮤니티 인벤 (http://www.inven.co.kr/)  
  게임 카테고리별로 별도의 페이지가 운영되고 있으며 예시로 오버워치 인벤 (http://overwatch.inven.co.kr/)의 경우 자유게시판, 파티 모집 게시판, 대회/e스포츠 소식 게시판 등의 카테고리로 분류되어 있습니다. 여기서 저희 작품이 주목한 부분은 파티 모집 게시판이었고 단순 게시판 형태로 운영되고 있다는 점이었습니다.
- 디시인사이드 (https://www.dcinside.com/)  
  본래 운영 목적은 온라인 게임 커뮤니티는 아니지만 다양한 분야의 커뮤니티들이 활성화되어있으며 그 중 리그오브레전드 갤러리 (https://gall.dcinside.com/board/lists?id=leagueoflegends3)는 가장 활성화된 커뮤니티입니다. 카테고리 분류가 별도로 없는 자유게시판 형태로 운영되며 방문 대비 댓글 작성의 빈도수가 높은 것이 특징입니다.
- 해외 온라인 게임 커뮤니티 BattleFy (https://battlefy.com/)  
  해당 페이지의 운영 목적은 각종 E-sports 대회의 온라인 개설 및 참여입니다. 일반 가입자들도 조건 없이 E-sports 대회 개설 및 참여가 가능한 것이 특징입니다. 그러나 별도의 팀 모집을 위한 게시판은 구현되어 있지 않습니다.
- 게임 유저 매칭 시스템 NEXT.OP.GG (https://next.op.gg/)  
  기존 게임 전적검색 사이트 OP.GG에서 2020년 1월 알파 버전 출시 이후 현재도 운영되고 있는 시스템입니다. 프로필 정보를 설정하고 이를 기준으로 같이 게임을 할 인원을 매칭시켜 메시지를 보내고 상대방이 수락 시 게임 아이디 정보를 알려주어 게임을 매칭시켜주는 시스템입니다.

## 구현 범위 및 목표

국내 게이머들의 스크림(연습경기)을 위한 게임 매칭 시스템을 웹으로 구현하는 것이 목표입니다. 이에 필요한 기능으로 Battlenet, Discord와 같은 타 플랫폼과의 연동, 팀원 모집을 위한 팀 개설 및 참가 기능, 스크림(연습경기) 개설 및 참가 기능이 있습니다.

## 개발 환경

- XAMPP 3.2.4(Apache, PHP, Maria DB 통합 설치 및 관리)
- 웹 서버 : Apache 2.4.46
- DB : MariaDB 10.4.14
- 사용 언어 : HTML5, CSS, PHP 7.4.10, Python 3.7.6, Javascript

# 관련 기술

## OAuth 2.0

다양한 플랫폼 환경에서 권한 부여를 위한 산업 표준 프로토콜로 제 3의 앱이 자원의 소유자인 서비스 이용자를 대신하여 서비스를 요청할 수 있도록 자원 접근 권한을 위임하는 방법입니다. Access Token을 발급받아 세션에 담고 필요한 정보인 유저 태그 정보만을 Scope로 지정하여 DB에 담아 사용하였습니다. 해당 기술을 이용하여 연동한 플랫폼은 Discord와 BattleNet입니다.

## BeautifulSoup

HTML이나 XML에서 데이터를 추출하는 파이썬 라이브러리입니다. 웹문서의 구조를 찾아내는 파서를 이용해 찾고자 하는 데이터의 위치를 찾아 내어 값을 추출합니다. 오버워치 게임 전적 정보를 DB에 갱신하기 위한 파이썬 스크립트에 사용되었습니다.

## AES-256-CBC

양방향 암호화 알고리즘입니다. 회원 비밀번호 암호화에 사용되었습니다. 대칭 키 방식이라 암호화 및 복호화에 사용되는 키값이 동일합니다. 따라서 키의 생성 및 관리가 중요한데 키값 생성에 있어 사용자마다 각기 다른 랜덤한 Salt를 생성하여 이 Salt값을 SHA-256 해시함수를 거쳐 랜덤한 키를 생성하였습니다. 추가로 CBC(Cipher Block Chaining) 방식을 사용하였는데 여기서 사용되는 IV(Initialization vector)는 동일한 평문에 대해 동일한 암호문이 나오는 것을 방지하고자 암호화할 때마다 랜덤하게 생성하여 적용하였습니다.

# 결론

## 결론

팀 생성, 참가 기능을 통해 같이 게임을 플레이할 인원을 구하거나 스크림(연습경기) 개설을 통해 게임 상대를 구할 수 있습니다. 또 이 기능들을 플랫폼화하여 게임 카테고리, 게임 진행 방식, 게임 시간 등을 선택만 하면 되도록 정형화되어 있기 때문에 직접 게시글을 작성하는 것보다 간편합니다.
Discord와 BattleNet과 같은 타 플랫폼 연동을 통해 해당 플랫폼 태그 정보를 다른 사용자들에게 보여줄 수 있으며 이를 통해 직접 태그 정보를 물어보는 단계를 거치지 않아도 해당 사용자에게 쉽게 접근할 수 있습니다.
추가로 마이페이지의 티어정보나 전적정보 검색을 통해 본인의 게임 정보를 바로 확인 가능합니다.
기존의 단순 게시판 형태이던 온라인 게임 커뮤니티에서 벗어나서 게임 전적 관련 정보도 확인 가능한 플랫폼화된 커뮤니티를 만들고자 하였습니다.

## 추후 과제

- 부적절한 이미지 파일 필터링 기능
- 개인 프로필 이미지 기능
- 스크림, 팀, 사용자 검색 및 목록 페이징 기능
- 사용자 간 원활한 소통을 위한 채팅 기능
- 모바일 환경을 고려한 모바일 전용 페이지를 제작하여 웹 앱으로 구성

위의 기능들은 구현하려 했으나 시간상 구현하지 못한 기능들입니다. 추가로 디렉토리 리스팅은 막아두었으나 XSS 등의 추가적인 웹 보안 문제도 고려해야 할 것입니다.

## 후기

DB 초기 설계의 중요성  
속성의 데이터 타입만 보더라도 데이터 타입을 무엇으로 정하는지에 따라 이후 그 데이터를 어떤 식으로 삽입하고 어떤 식으로 사용할지에 대한 방향이 바뀌는 것을 느꼈습니다. 따라서 DB의 설계는 처음부터 잘 해두어야 이후 모든 작업에 있어 문제가 생기지 않는다는 것을 알았습니다.

프로젝트를 실제로 진행해보는 것의 중요성  
이론으로 배우는 것과 실제 해보는 것은 하늘과 땅의 차이였고 실제 프로젝트를 진행하면서 부딪히는 난관들을 마주하면서 스스로 생각해보는 것이 매우 중요하다고 느꼈습니다. 문제를 스스로 해결해가면서 본인이 무엇이 부족한지 알 수 있었고 또 무엇이 필요한지 알 수 있었습니다.

자신감을 얻을 수 있었던 기회  
마지막으로 원했던 만큼의 작품이 나왔는가에 대해서 스스로 의문이 들고 더 할 수 있을 것 같고 마무리하지 못한 부분들이 많아서 아쉽습니다. 그래도 프로젝트를 진행하는 시간 동안 최선을 다했다고 느끼기에 후회는 없습니다.
